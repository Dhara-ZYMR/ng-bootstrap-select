/*!
 * ng-bootstrap-select v0.2.1
 *
 * Licensed under MIT
 */

"use strict";function dropdownToggleDirective(){return{restrict:"ACE",priority:101,link:function(a,b,c){var d=function(a){var c=angular.element(this).parent();angular.element(".bootstrap-select.open",b).not(c).removeClass("open"),c.toggleClass("open")};b.on("click.bootstrapSelect",".dropdown-toggle",d),a.$on("$destroy",function(){b.off(".bootstrapSelect")})}}}function dropdownCloseDirective(){return{restrict:"ACE",priority:101,link:function(a,b,c){var d=function(a){var c="A"!==a.target.tagName&&angular.element(a.target).parents(".bootstrap-select");angular.element(".bootstrap-select.open",b).not(c).removeClass("open")};angular.element(document).on("click.bootstrapSelect",d),a.$on("$destroy",function(){angular.element(document).off(".bootstrapSelect")})}}}function sortedKeys(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}function selectpickerDirective(a,b){return{restrict:"A",priority:1e3,link:function(c,d,e){function f(b){function c(a){return"\\\\\\"+a}function d(a){return a.replace(p,l).replace(q,m)}for(var e,f,g,h=0,i=[],j=b.length,k=[],l="{{",m="}}",n=l.length,o=m.length,p=new RegExp(l.replace(/./g,c),"g"),q=new RegExp(m.replace(/./g,c),"g"),r=[];j>h;){if(-1==(e=b.indexOf(l,h))||-1==(f=b.indexOf(m,e+n))){h!==j&&k.push(d(b.substring(h)));break}h!==e&&k.push(d(b.substring(h,e))),g=b.substring(e+n,f),i.push(g),h=f+o,r.push(k.length),k.push("")}return function(b,c){for(var d=0,e=i.length;e>d;d++)k[r[d]]=a(i[d])(b,c);return k.join("")}}function g(){if(!$.isEmptyObject(o)){j=!1;for(var a=0,b=d.find("option"),e=b.length;e>a;a++)if(""===b[a].value){j=b.eq(a);break}var g=t(c)||[],h=angular.copy(r?sortedKeys(g):g);!m&&j&&h.unshift(null),d.find("option").each(function(a){var b={},d={},e={};if(h[a]){b[q]=h[a];for(var g in o){var i=o[g],j=g.split("data-")[1]?g.split("data-")[1].replace(/-([a-z])/g,function(a){return a[1].toUpperCase()}):null,k=f(i)(c,b);j?e[j]=k||i:d[g]=k||i}$(this).data(e).attr(d)}})}}function h(a){c[k](function(){e.bsOptionAttrs&&g(),d.selectpicker("refresh")})}function i(a){void 0!==c.$parent[e.ngModel]&&c.$parent[e.ngModel]!==a&&(c.$parent[e.ngModel]=a),c.$$childHead&&c.$$childHead[e.ngModel]&&(c.$$childHead[e.ngModel]=a),c[k](function(){d.selectpicker("render")})}var j,k=c.$applyAsync?"$applyAsync":"$evalAsync",l=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,m=e.multiple,n=e.ngOptions,o=a(e.bsOptionAttrs)(),p=n.match(l),q=(a(p[2]||p[1]),p[4]||p[6]),r=p[5],s=p[7],t=a(s);e.$observe("spTheme",function(a){b(function(){d.data("selectpicker").$button.removeClass(function(a,b){return(b.match(/(^|\s)?btn-\S+/g)||[]).join(" ")}),d.selectpicker("setStyle",a)})}),c[k](function(){d.selectpicker(a(e.selectpicker)())}),n&&c.$watch(s,h,!0),e.ngModel&&c.$watch(e.ngModel,function(a,b){return a!==b?b?i(a):h(a):void 0},!0),e.ngDisabled&&c.$watch(e.ngDisabled,h,!0),c.$on("$destroy",function(){b(function(){d.selectpicker("destroy")})})}}}angular.module("ng-bootstrap-select.extra",[]).directive("dropdownToggle",[dropdownToggleDirective]).directive("dropdownClose",[dropdownCloseDirective]),angular.module("ng-bootstrap-select",[]).directive("selectpicker",["$parse","$timeout",selectpickerDirective]);