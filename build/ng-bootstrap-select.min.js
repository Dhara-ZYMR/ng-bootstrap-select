/*!
 * ng-bootstrap-select v0.3.0
 *
 * Licensed under MIT
 */

"use strict";function sortedKeys(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}function selectpickerDirective(a,b){return{restrict:"A",priority:1e3,link:function(c,d,e){function f(b){function c(a){return"\\\\\\"+a}function d(a){return a.replace(p,l).replace(q,m)}for(var e,f,g,h=0,i=[],j=b?b.length:0,k=[],l="{{",m="}}",n=l.length,o=m.length,p=new RegExp(l.replace(/./g,c),"g"),q=new RegExp(m.replace(/./g,c),"g"),r=[];j>h;){if(-1==(e=b.indexOf(l,h))||-1==(f=b.indexOf(m,e+n))){h!==j&&k.push(d(b.substring(h)));break}h!==e&&k.push(d(b.substring(h,e))),g=b.substring(e+n,f),i.push(g),h=f+o,r.push(k.length),k.push("")}return function(b,c){for(var d=0,e=i.length;e>d;d++)k[r[d]]=a(i[d])(b,c);return k.join("")}}function g(){if("object"!=typeof o||!$.isEmptyObject(o)){j=!1;for(var a={},b=r?function(b,c){return a[r]=c,a[q]=b,a}:function(b){return a[q]=b,a},e=0,g=d.find("option"),h=g.length;h>e;e++)if(""===g[e].value){j=g.eq(e);break}var i=t(c)||[],k=angular.copy(r?sortedKeys(i):i);!m&&j&&k.unshift(null),d.find("option").each(function(a){var d={},e={},g={},h=k[a],j=i[h];if(d=b(j,h),h){var l="function"==typeof o?o(h,j):o;if($.isEmptyObject(l))return;for(var m in l){var n=l[m],p=m.split("data-")[1]?m.split("data-")[1].replace(/-([a-z])/g,function(a){return a[1].toUpperCase()}):null,q=f(n)(c,d);p?g[p]=q||n:e[m]=q||n}$(this).data(g).attr(e)}})}}function h(a){c[k](function(){e.bsOptionAttrs&&g(),d.selectpicker("refresh")})}function i(a){void 0!==c.$parent[e.ngModel]&&c.$parent[e.ngModel]!==a&&(c.$parent[e.ngModel]=a),c.$$childHead&&c.$$childHead[e.ngModel]&&(c.$$childHead[e.ngModel]=a),c[k](function(){d.selectpicker("render")})}var j,k=c.$applyAsync?"$applyAsync":"$evalAsync",l=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,m=e.multiple,n=e.ngOptions,o=a(e.bsOptionAttrs)(c),p=n.match(l),q=(a(p[2]||p[1]),p[4]||p[6]),r=p[5],s=p[7],t=a(s);e.$observe("spTheme",function(a){b(function(){d.data("selectpicker").$button.removeClass(function(a,b){return(b.match(/(^|\s)?btn-\S+/g)||[]).join(" ")}),d.selectpicker("setStyle",a)})}),c[k](function(){d.selectpicker(a(e.selectpicker)())}),n&&c.$watch(s,h,!0),e.ngModel&&c.$watch(e.ngModel,function(a,b){return a!==b?b?i(a):h(a):void 0},!0),e.ngDisabled&&c.$watch(e.ngDisabled,h,!0),c.$on("$destroy",function(){b(function(){d.selectpicker("destroy")})})}}}angular.module("ng-bootstrap-select",[]).directive("selectpicker",["$parse","$timeout",selectpickerDirective]);